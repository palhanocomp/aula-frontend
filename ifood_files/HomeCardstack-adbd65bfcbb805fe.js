
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5369c989-609c-5442-ba27-d7d93dc6256b")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7381],{4946:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Home/HomeCardstack",function(){return n(68406)}])},68406:function(e,t,n){"use strict";n.r(t),n.d(t,{HomeCardstack:function(){return Y},default:function(){return ee}});var r=n(85893),o=n(67294),i=n(14416),a=n(9008),c=n(45697),s=n.n(c),u=n(91768),l=n(5152),d=n(94184),f=n.n(d),p=n(85518),h=n(6314),v=n(16282),b=n(89420),y=n(74559),m=n(50959),g=n(59387),w=n(40059),j=n(30548),k=n(17578),x=n(57818),_=n(67926),C=n(67525),P=n(35985),O=n(45291),A=n(14691),S=n(39368),R=n(25091),E=n(63594),Z=n(11032),N=n(59810),G=n(68716),H=(n(79541),n(78645)),M=function(){var e=(0,o.useState)(!0),t=e[0],n=e[1];return N.VR&&(0,r.jsxs)(H.Dialog,{open:t,onClose:function(){return n(!1)},children:[(0,r.jsx)(H.Dialog.Header,{}),(0,r.jsx)(H.Dialog.Body,{children:(0,r.jsx)(g.Ee,{src:"/static/images/colombia-warning.png",alt:"aviso",shape:void 0,className:void 0,responsive:void 0,fallback:void 0,fallbackClassName:void 0,isServer:void 0,allowSSR:void 0,lazy:void 0})})]})};function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function W(e,t){return!t||"object"!==F(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}var F=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}var U=(0,l.default)((function(){return n.e(2598).then(n.bind(n,32598))}),{loadableGenerated:{webpack:function(){return[32598]}},ssr:!1}),V=(0,l.default)((function(){return n.e(7889).then(n.bind(n,67889))}),{loadableGenerated:{webpack:function(){return[67889]}},ssr:!1}),z=(0,l.default)((function(){return n.e(7051).then(n.bind(n,27051))}),{loadableGenerated:{webpack:function(){return[27051]}},ssr:!1}),X=(0,l.default)((function(){return n.e(9194).then(n.bind(n,49194))}),{loadableGenerated:{webpack:function(){return[49194]}},ssr:!1}),$=(0,l.default)((function(){return n.e(7595).then(n.bind(n,17595))}),{loadableGenerated:{webpack:function(){return[17595]}},ssr:!1}),Q=(0,l.default)((function(){return n.e(779).then(n.bind(n,10779))}),{loadableGenerated:{webpack:function(){return[10779]}},ssr:!1}),I=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}({},C.Z,{authenticated:s().bool.isRequired,coords:s().shape({latitude:s().number,longitude:s().number}).isRequired,rehydrated:s().bool,city:s().string}),K={rehydrated:!1,city:void 0},Y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(c,e);var t,n,o,i=J(c);function c(){return D(this,c),i.apply(this,arguments)}return t=c,n=[{key:"componentDidMount",value:function(){this.setupPWAConfig(),this.setupActions(),this.props.dispatch((0,E.bG)(R.aAJ.restaurant))}},{key:"componentDidUpdate",value:function(e){var t,n=this.props,r=n.coords,o=n.authenticated,i=n.multiCategories,a=n.dispatch;(e.coords.latitude!==r.latitude||e.coords.longitude!==r.longitude||e.authenticated!==o)&&this.setupActions(),!(null===(t=e.multiCategories)||void 0===t?void 0:t.categories)&&(null===i||void 0===i?void 0:i.categories)&&a((0,E.bG)(R.aAJ.restaurant))}},{key:"setupActions",value:function(){var e=this.props,t=e.dispatch,n=e.authenticated,r=e.coords,o=r.latitude,i=r.longitude,a=!0;window&&(a=Boolean(-1===window.location.search.search(/utm_campaign=teste_home($|&)/))),this.verifyAddress(a),n&&o&&i&&t((0,k.Wg)()),t((0,O.aR)()),t((0,x.vv)("Home"))}},{key:"setupPWAConfig",value:function(){if(window&&"URLSearchParams"in window){var e=new URLSearchParams(window.location.search).get("utm_source");this.props.dispatch((0,j.F5)("PWA"===e))}}},{key:"verifyAddress",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.dispatch,r=t.coords,o=t.initialLoad,i=t.rehydrated,a=t.downloadAppModal;i&&!a&&(o&&e?n((0,w.Ec)({open:!0,keepCurrentPageAfterSelect:!0})):null!=r.latitude&&null!=r.longitude?n((0,w.Ec)({open:!1,keepCurrentPageAfterSelect:!0})):n((0,w.Ec)({open:!0,keepCurrentPageAfterSelect:!0})))}},{key:"cardstackHome",value:function(){var e=this.props.failedMultiCategories?G.j[N.ZP.countryCode][R.aAJ.restaurant]:this.props.alias;return(0,r.jsx)(A.ZP,{children:(0,r.jsx)(h.Z,{type:h.A.home,alias:e,isLoading:!e})})}},{key:"render",value:function(){var e=this.props,t=e.currentCheckout,n=e.t,o=e.city,i=e.isFiltered,c=e.authenticated;return(0,r.jsxs)(m.default,{showCheckoutContextCard:!0,showAddressContextCard:!0,tabBar:"home",children:[N.VR&&(0,r.jsx)(M,{}),(0,r.jsx)(b.Z,{children:(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:n("seo:title.home",{city:o})},"title"),(0,r.jsx)("meta",{name:"description",content:n("seo:description.home")},"description")]})}),(0,r.jsxs)("div",{className:"home-page-cardstack",children:[(0,r.jsx)(S.uN,{authenticated:c}),(0,r.jsxs)(y.Z,{children:[!p.tq&&(0,r.jsx)(U,{}),(0,r.jsx)(V,{}),(0,r.jsx)(Q,{shouldOrderStatuses:!0})]}),!i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:f()("home-page-cardstack__voucher",{"home-page-cardstack__no-voucher":!c}),children:(0,r.jsx)(y.Z,{children:(0,r.jsx)(z,{})})}),(0,r.jsx)(b.Z,{children:this.cardstackHome()})]}),(0,r.jsx)(b.Z,{children:(0,r.jsx)(g.zP,{min:"desktop-s",children:(0,r.jsx)(X,{show:{cities:!0,about:!0}})})}),(0,r.jsx)(v.Z,{}),t?(0,r.jsx)($,{uuid:t}):null]})]})}}],n&&L(t.prototype,n),o&&L(t,o),c}(o.Component);Y.propTypes=I,Y.defaultProps=K;var ee=(0,_.Z)(Y,[P.Q,(0,i.$j)((function(e){var t=e.address,n=e.downloadAppModal,r=e.checkout,o=e._persist,i=e.voucherWallet,a=e.configs,c=e.multiCategories;return{currentCheckout:r.currentRestaurant,city:t.city,coords:t.coords,initialLoad:t.location.initialLoad,rehydrated:(null===o||void 0===o?void 0:o.rehydrated)||!1,downloadAppModal:n.isOpen,vouchersActive:(null===i||void 0===i?void 0:i.active)||!1,configs:a,alias:(0,Z.V_)({multiCategories:c}),failedMultiCategories:(0,Z.Mk)({multiCategories:c})}})),(0,u.Z)("home")],{hoistStatics:!0})},79541:function(){}},function(e){e.O(0,[1255,2178,4136,5020,1565,6472,2233,9774,2888,179],(function(){return t=4946,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=HomeCardstack-adbd65bfcbb805fe.js.map
//# debugId=5369c989-609c-5442-ba27-d7d93dc6256b
